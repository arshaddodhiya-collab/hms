<div class="grid justify-content-center mt-4">
  <div class="col-12 md:col-10 lg:col-8">
    <p-card header="Product Search">
      <div class="flex flex-column md:flex-row gap-3 mb-4">
        <span class="p-input-icon-left flex-grow-1">
          <i class="pi pi-search"></i>
          <input
            type="text"
            pInputText
            [formControl]="searchControl"
            placeholder="Search products by name..."
            class="w-full"
          />
        </span>
        <button
          pButton
          label="Refresh"
          icon="pi pi-refresh"
          (click)="refresh()"
          class="p-button-outlined w-full md:w-auto"
        ></button>
      </div>

      <ng-container *ngIf="vm$ | async as vm">
        <div *ngIf="vm.loading" class="flex justify-content-center p-4">
          <i class="pi pi-spin pi-spinner text-4xl text-primary"></i>
        </div>

        <div
          *ngIf="vm.error"
          class="flex align-items-center p-3 border-round bg-red-100 text-red-700 mb-3"
        >
          <i class="pi pi-exclamation-circle mr-2 text-xl"></i>
          <span>{{ vm.error }}</span>
        </div>

        <app-product-list [products]="vm.products"></app-product-list>
      </ng-container>
    </p-card>
  </div>
</div>
